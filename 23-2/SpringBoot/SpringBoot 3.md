[[SpringBoot]]

## 3.1 스프링 부트 3 구조 살펴보기
	계층(Layer) 구조
	 └─ 각 계층은 서로 영향을 주지 않고 각자 책임에 맞는 역할을 함

	프레젠테이션 계층
	 ├─ HTTP 요청을 받아 비즈니스 계층으로 전송
	 └─ Controller : 프레젠테이션 계층을 실제 구현한 것

	비즈니스 계층
	 ├─ 비즈니스 로직을 처리(통상적인 앱 기능)
	 └─ Service : 비즈니스 계층을 실제 구현한 것
	    └─ 주문 서비스 처리 로직, 주문 처리 중 예외처리 로직, 주문 취소 로직 등

	퍼시스턴스 계층
	 ├─ 데이터베이스 관련 로직 처리
	 │  └─ 데이터베이스에 접근하는 DAO 객체 사용
	 ├─ Repository : 퍼시스턴스 계층을 실제 구현한 것
	 └─ DAO(Data Access Object) : 
	    데이터베이스에 접근하는 객체, 데이터베이스와 상호작용을 하기 위한 객체임

![](https://i.imgur.com/goqebYA.png)

---
	MVC 패턴
	 ├─ Model View Controller
	 └─ 하나의 애플리케이션을 구성할 때 그 구성요소를 세가지의 역할로 구분한 디자인 패턴

![MVC | 500](https://i.imgur.com/a2USBs6.png)

	Model
	 ├─ 데이터를 담는 그릇
	 ├─ 데이터를 가진 객체를 말함
	 ├─ 데이터는 내부의 상태에 대한 정보를 가질 수도 있고 모델을 표현하는 이름 속성으로 가질 수 있음
	 ├─ 모델 상태에 변화가 있을 시 컨트롤러와 뷰에 이를 통보함
	 └─ Model의 규칙
	    ├─ 사용자가 편집하길 원하는 모든 데이터를 가지고 있어야 함
	    ├─ 뷰나 컨트롤러에 대해서 어떠한 정보도 알지 말아야 함
	    └─ 변경이 일어나면 변경 통지에 대한 처리방법을 구현해야 함

	View
	 ├─ 사용자가 보는 화면을 작성한 문서
	 ├─ HTML / CSS / Javascript 들을 모아 둔 컨테이너를 말함
	 ├─ 사용자가 볼 결과물을 생성하기 위해 모델로부터 정보를 얻어옴
	 └─ View의 규칙
	    ├─ 모델이 가지고 있는 정보를 따로 저장해서는 안됨
	    ├─ 모델이나 컨트롤러와 같이 다른 구성 요소를 몰라야 함
	    └─ 변경이 일어나면, 변경 통지에 대한 처리방법을 구현해야 함

	Controller
	 ├─ 사용자가 접근한 URL에 따라 사용자의 요청사항을 파악한 후 요청에 맞는 데이터 Model을 Service에게 의뢰
	 ├─ View에 반영해서 사용자에게 알려줌
	 └─ Controller의 규칙
	    ├─ 모델이나 뷰에 대해 알고 있어야 함
	    └─ 모델이나 뷰의 변경을 모니터링 해야함

### Springboot의 MVC 실행 순서
![](https://i.imgur.com/ogRCUBm.png)

1. 클라이언트로부터 요청이 들어오면 DispatcherServlet이 받아 요청에 맞는 핸들러(컨트롤러)를 조회함
2. 핸들러를 실행할 수 있는 어댑터를 조회하고 핸들러 어댑터를 실행함
3. 핸들러 어댑터가 실제 핸들러를 실행함
4. 핸들러(컨트롤러)는 비즈니스 로직을 통하여 ModelAndView(Model객체와 View의 경로)를 DispatcherServlet에 리턴함
5. DispatcherServlet은 해당 ModelAndView를 기반으로 ViewResolver를 실행함
6. ViewResolver는 뷰의 논리 이름을 물리 이름으로 바꾸고 렌더링 역할을 하는 담당하는 뷰 객체를 DispatcherServlet에게 반환함
7. DispatcherServlet는 해당 뷰 객체를 렌더링하여 응답을 클라이언트에게 보냄

#### 스프링부트 프로젝트 디렉터리 구성
	main
	 ├─ 실제 코드를 작성하는 공간
	 └─ 프로젝트 실행에 필요한 소스코드나 리소스 파일로 구성

	test
	 └─ 프로젝트 테스트 코드를 작성하는 공간

	build.gradle
	 ├─ 빌드 설정 파일
	 └─ 의존성이나 플러그인 설정 작업 시 사용

	settings.gradle
	 └─ 빌드할 프로젝트의 정보 설정 파일

![layer | 400](https://i.imgur.com/D2z3OiI.png)

